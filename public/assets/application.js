webpackJsonp([0],[function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(){w.ballRange=g["default"].setBallRange(w.ballMin,w.ballMax);var e=g["default"].getAvailableCombos(w.ballRange,w.ballsDrawnPerRound);w.combosRemaining=e.length;var n=g["default"].setRedrawCombos(e,C,w);n&&(e.splice(e.length-n.combos,n.combos),C.push(n)),e=s(e),C=g["default"].assignCombos(e,C),m["default"].setLottery(w),m["default"].setCombos(C),r()}function r(){C=g["default"].calculateWinningPct(w.combosRemaining,C),C=C.sort(i),f["default"].setupOddsChart(C,E);var e=document.getElementsByClassName("details-btn");c(e,"click",l)}function s(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),o=e[n];e[n]=e[t],e[t]=o}return e}function i(e,n){return e.combos>n.combos?-1:e.combos<n.combos?1:"Redraw"===e.name?1:"Redraw"===n.name?-1:e.originalStats.combos>n.originalStats.combos?-1:e.originalStats.combos<n.originalStats.combos?1:0}function l(){var e=this.getAttribute("team");p["default"].create(C[e])}function c(e,n,t){for(var o=0,a=e.length;a>o;o++)e[o].addEventListener(n,t,!1)}t(1);var d=t(7),m=o(d),u=t(8),g=o(u),b=t(9),f=o(b),h=t(10),p=o(h),v=m["default"].getDefaults(),w=v.lottery,C=v.teams,E=0,y=1;a(),document.getElementById("draw-btn").addEventListener("click",function(){var e=!1;if(E++,!(E>w.ballsDrawnPerRound)){if(E===w.ballsDrawnPerRound-1&&(e=!0),w=g["default"].drawBall(w),f["default"].createLotteryBall(w.mostRecentBallDrawn),C=g["default"].updateOdds(C,w,e),C=C.sort(i),E===w.ballsDrawnPerRound)if(document.getElementById("draw-btn").classList.add("hidden"),document.getElementById("start-btn").classList.remove("hidden"),"Redraw"===C[0].name)f["default"].createAlert("Redraw combo has been selected. Please start the round over.");else if(w.ballsDrawn.sort(function(e,n){return e-n}),f["default"].showWinner(y,C[0],w.ballsDrawn),y===w.rounds)return document.getElementById("start-btn").classList.add("hidden"),document.getElementById("draw-btn").classList.add("hidden"),C=g["default"].endLottery(C,w),void f["default"].showFinalOrder(C,w.rounds+1);f["default"].setupOddsChart(C,E);var n=document.getElementsByClassName("details-btn");c(n,"click",l)}}),document.getElementById("start-btn").addEventListener("click",function(){E=0,document.getElementById("start-btn").classList.add("hidden"),document.getElementById("draw-btn").classList.remove("hidden"),C=g["default"].resetCombos(C),"Redraw"!==C[0].name&&(y++,C=g["default"].removeWinner(C,w)),C.forEach(function(e){e.winsWith=null,e.odds=null,e.history=[],e.combos=e.winningCombos.length}),w=m["default"].getLottery(),f["default"].reset(!0),r()}),document.getElementById("reset-btn").addEventListener("click",function(){v=m["default"].getDefaults(),w=v.lottery,C=v.teams,E=0,y=1,document.getElementById("start-btn").classList.add("hidden"),document.getElementById("draw-btn").classList.remove("hidden"),f["default"].reset(),r()})},function(e,n){},,,,,,function(e,n){"use strict";e.exports=n={},n.getDefaults=function(){return JSON.parse(JSON.stringify(t))},n.setLottery=function(e){return t.lottery=JSON.parse(JSON.stringify(e)),!0},n.getLottery=function(){return JSON.parse(JSON.stringify(t.lottery))},n.setCombos=function(e){return t.teams=JSON.parse(JSON.stringify(e)),!0},n.getCombos=function(){return JSON.parse(JSON.stringify(t.teams))};var t={title:"OTHL Draft Lottery",description:"Lottery Description",lottery:{rounds:3,ballsDrawnPerRound:4,ballMin:1,ballMax:14,ballsDrawn:[]},teams:[{name:"Montreal Canadiens",combos:200,originalStats:{pick:1,combos:200,pct:20}},{name:"Vancouver Canucks",combos:135,originalStats:{pick:2,combos:135,pct:13.5}},{name:"Winnipeg Jets",combos:115,originalStats:{pick:3,combos:115,pct:11.5}},{name:"Detroit Red Wings",combos:95,originalStats:{pick:4,combos:95,pct:9.5}},{name:"New York Rangers",combos:85,originalStats:{pick:5,combos:85,pct:8.5}},{name:"New York Islanders",combos:75,originalStats:{pick:6,combos:75,pct:7.5}},{name:"Columbus Blue Jackets",combos:65,originalStats:{pick:7,combos:65,pct:6.5}},{name:"Philadelphia Flyers",combos:60,originalStats:{pick:8,combos:60,pct:6}},{name:"Los Angeles Kings",combos:50,originalStats:{pick:9,combos:50,pct:5}},{name:"St. Louis Blues",combos:35,originalStats:{pick:10,combos:35,pct:3.5}},{name:"Ottawa Senators",combos:30,originalStats:{pick:11,combos:30,pct:3}},{name:"Arizona Coyotes",combos:25,originalStats:{pick:12,combos:25,pct:2.5}},{name:"Carolina Hurricanes",combos:20,originalStats:{pick:13,combos:20,pct:2}},{name:"Calgary Flames",combos:10,originalStats:{pick:14,combos:10,pct:1}}]}},function(e,n){"use strict";function t(e){var n=Math.floor(Math.random()*e.length),t=e[n];return t}function o(e,n){return e.originalStats.pick-n}function a(e,n){for(var t=[],o=0,a=e.winningCombos.length;a>o;o++)-1===e.winningCombos[o].indexOf(n)?e.losingCombos.push(e.winningCombos[o]):t.push(e.winningCombos[o]);return e.winningCombos=t,e.combos=e.winningCombos.length,e}function r(e,n){if(e.combos>0){for(var t=[],o=0,a=e.winningCombos.length;a>o;o++){var r=e.winningCombos[o].filter(function(e){return n.indexOf(e)<0});t.push(r.join())}return t.toString()}return null}function s(e){var n=0;return e.forEach(function(e){n+=e.combos}),n}function i(e,n,t){var o=(e/n*100).toFixed(1),a=(o-t).toFixed(1);return{percent:o,combos:e,change:a}}e.exports=n={},n.setBallRange=function(e,n){for(var t=[],o=e;n>=o;o++)t.push(o);return t},n.getAvailableCombos=function(e,n){var t=function r(e,n,t,o){if(0==e)return void(t.length>0&&(o[o.length]=t));for(var a=0;a<n.length;a++)r(e-1,n.slice(a+1),t.concat([n[a]]),o)},o=[],a=[];return t(n,e,a,o),o},n.setRedrawCombos=function(e,n,t){var o=0,a=[];n.forEach(function(e){o+=e.combos});for(var r=o,s=e.length;s>r;r++)a.push(e[r]);if(a.length>0){var l=i(a.length,t.combosRemaining,.1);return{name:"Redraw",combos:a.length,originalStats:{pick:n.length+1,combos:a.length,pct:l.percent},winningCombos:a,losingCombos:[]}}return!1},n.assignCombos=function(e,n){return n.forEach(function(n){if("Redraw"!==n.name){n.winningCombos=[],n.losingCombos=[];for(var t=0;t<n.combos;t++)n.winningCombos.push(e[t]);e.splice(0,n.combos)}}),n},n.resetCombos=function(e){return e.forEach(function(e){e.winningCombos=e.winningCombos.concat(e.losingCombos),e.losingCombos=[]}),e},n.removeWinner=function(e,n){var t=e[0].winningCombos,o=e[e.length-1].winningCombos;e[e.length-1].winningCombos=o.concat(t),e.shift();var a=i(e[e.length-1].winningCombos.length,n.combosRemaining,0);return e[e.length-1].originalStats.combos=e[e.length-1].winningCombos.length,e[e.length-1].originalStats.pct=a.percent,e},n.drawBall=function(e){var n=t(e.ballRange),o=e.ballRange.indexOf(n);return e.mostRecentBallDrawn=n,e.ballRange.splice(o,1),e.ballsDrawn.push(n),e},n.endLottery=function(e,n){return e.pop(),e.shift(),e.forEach(function(e,t){e.placeChange=o(e,t+n.rounds+1)}),e},n.updateOdds=function(e,n,t){var o=n.mostRecentBallDrawn,l=n.ballsDrawn;e.forEach(function(e){e=a(e,o),t&&(e.winsWith=r(e,l))});var c=s(e);return e.forEach(function(e){e.odds=i(e.combos,c,e.originalStats.pct)}),e},n.calculateWinningPct=function(e,n){return n.forEach(function(n){n.odds=i(n.combos,e,n.originalStats.pct)}),n}},function(e,n){"use strict";e.exports=n={},n.setupOddsChart=function(e,n){var t=!1;document.getElementsByTagName("table")[0]&&document.getElementsByTagName("table")[0].parentElement.removeChild(document.getElementsByTagName("table")[0]),n>0&&(t=!0);var o=document.createElement("table"),a=document.createElement("thead"),r=document.createElement("tbody");o.className="table table-striped table-hover";var s="<th>#</th>\n			   <th>Team</th>\n			   <th>Combos Remaining</th>";return t&&(s+="<th>Change from Original</th>"),a.innerHTML="<tr>"+s+"</tr>",o.appendChild(a),e.forEach(function(e,a){var s="",i="";if(t){var l=e.odds.change>0?"up":"down";s='<td class="change-'+l+'"><i class="ion-arrow-'+l+'-a" aria-hidden="true"></i> '+Math.abs(e.odds.change)+"%</td>"}e.winsWith&&3===n&&(i="<p> Wins with: "+e.winsWith+" </p>");var c='\n		<th scope="row">'+(a+1)+"</th>\n		<td>"+e.name+"</td>\n		<td>"+e.combos+" ("+e.odds.percent+"% chance) "+i+"</td>\n		"+s+" ",d=document.createElement("tr");0===e.combos&&(d.className="no-chance"),d.innerHTML=c,r.appendChild(d),o.appendChild(r)}),document.getElementById("odds").appendChild(o),!0},n.createLotteryBall=function(e,n){var t=document.createElement("span"),o=document.createElement("div"),a=document.createElement("div");return t.textContent=e,o.className="ball",a.className="col-xs-12 col-md-6 col-lg-3",o.appendChild(t),a.appendChild(o),n?a.innerHTML:(document.getElementById("lottery-balls").appendChild(a),!0)},n.showWinner=function(e,t,o){var a=document.createElement("div"),r=document.getElementById("winner-list"),s="";o.forEach(function(e){s+=n.createLotteryBall(e,!0)});var i=t.originalStats.pick-e,l=i>0?"up":"down";l=0===i?"none":l;var c="";return"none"!==l&&(c='<span class="change-'+l+'">(<i class="ion-arrow-'+l+'-a" aria-hidden="true"></i> '+Math.abs(i)+")</span>"),a.className="winning-team",a.innerHTML="<h2>Pick #"+e+"</h2>\n	<span>"+t.name+" "+c+'</span>\n	<div class="winning-balls">'+s+"</div>",r.appendChild(a),!0},n.createAlert=function(e){var n=document.getElementsByClassName("container")[0],t=document.createElement("div");return t.id="alert-box",t.className="alert alert-danger",t.setAttribute("role","alert"),t.innerHTML=e,n.insertBefore(t,n.firstChild),!0},n.showFinalOrder=function(e,n){document.getElementById("odds").innerHTML="";var t=document.createElement("table"),o=document.createElement("thead"),a=document.createElement("tbody");t.className="table table-striped table-hover";var r="<th>Pick #</th>\n			   <th>Team</th>\n			   <th>Change</th>";return o.innerHTML="<tr>"+r+"</tr>",t.appendChild(o),e.forEach(function(e,o){var r=e.placeChange>0?"up":"down";r=0===e.placeChange?"none":r;var s="";"none"!==r&&(s='<i class="ion-arrow-'+r+'-a" aria-hidden="true"></i>');var i='\n				<th scope="row">'+(o+n)+"</th>\n				<td>"+e.name+'</td>\n				<td class="change-'+r+'">'+s+" "+Math.abs(e.placeChange)+"</td>";a.innerHTML+=document.createElement("tr").innerHTML=i,t.appendChild(a)}),document.getElementById("odds").appendChild(t),!0},n.reset=function(e){return document.getElementById("lottery-balls").innerHTML="",document.getElementById("alert-box")&&document.getElementById("alert-box").parentElement.removeChild(document.getElementById("alert-box")),document.getElementById("winner-list")&&e!==!0&&(document.getElementById("winner-list").innerHTML=""),!0}},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var a=t(9),r=o(a);e.exports=n={};var s=document.getElementsByClassName("modal")[0],i=s.children[0];n.create=function(e){var n=document.createElement("div"),t=document.createElement("div"),o=document.createElement("ul"),a=document.createElement("ul");n.className="modal-team-overview row",t.className="modal-team-lists row",n.innerHTML='\n					<div class="col-xs-12 col-md-6 col-md-offset-3 text-xs-center">\n						<span class="modal-team-name">'+e.name+'</span>\n						<span class="modal-team-combos">Original Combos: '+e.originalStats.combos+" ("+e.originalStats.pct+"%)</span>\n					</div>\n	",e.winningCombos.forEach(function(e){var n="";e.forEach(function(e){n+=r["default"].createLotteryBall(e,!0)});var t="<li>"+n+"</li>";o.innerHTML+=t}),e.losingCombos.forEach(function(e){var n="";e.forEach(function(e){n+=r["default"].createLotteryBall(e,!0)});var t="<li>"+n+"</li>";a.innerHTML+=t}),t.innerHTML='\n			<div class="col-xs-12 col-md-6">'+o.outerHTML+'</div>\n			<div class="col-xs-12 col-md-6 losing-list">'+o.outerHTML+"</div>	\n	",i.appendChild(n),i.appendChild(t),s.style.display="block"},document.getElementsByClassName("modal")[0].addEventListener("click",function(){i.removeChild(i.childNodes[1]),i.removeChild(i.childNodes[1]),s.style.display="none"})}]);