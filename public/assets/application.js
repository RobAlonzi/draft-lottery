webpackJsonp([0],[function(n,e,t){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function a(){return document.getElementById("draw-btn").classList.add("hidden"),document.getElementById("start-btn").classList.remove("hidden"),"Redraw"===f[0].name?void m["default"].createAlert("Redraw combo has been selected. Please start the round over."):(g.ballsDrawn.sort(function(n,e){return n-e}),m["default"].showWinner(p,f[0],g.ballsDrawn),!0)}function r(){return document.getElementById("start-btn").classList.add("hidden"),document.getElementById("draw-btn").classList.add("hidden"),f=l["default"].endLottery(f,g),m["default"].showFinalOrder(f,g.rounds+1),!0}t(1);var i=t(7),s=o(i),c=t(8),l=o(c),d=t(9),m=o(d),u=t(10),b=(o(u),s["default"].getDefaults()),g=b.lottery,f=b.teams,h=0,p=1;b=l["default"].initCombos(b),s["default"].setLottery(g),s["default"].setCombos(f),m["default"].setupOddsChart(f,h),document.getElementById("draw-btn").addEventListener("click",function(){h++;var n=!1;if(!(h>g.ballsDrawnPerRound))return h===g.ballsDrawnPerRound-1&&(n=!0),g=l["default"].drawBall(g),m["default"].createLotteryBall(g.mostRecentBallDrawn),f=l["default"].updateOdds(f,g,n),h===g.ballsDrawnPerRound&&a(),p===g.rounds&&"Redraw"!==f[0].name&&h===g.ballsDrawnPerRound?(r(),!0):void m["default"].setupOddsChart(f,h)}),document.getElementById("start-btn").addEventListener("click",function(){h=0,document.getElementById("start-btn").classList.add("hidden"),document.getElementById("draw-btn").classList.remove("hidden"),"Redraw"!==f[0].name?(p++,f=l["default"].startNewRound(f),f=l["default"].removeWinner(f,g)):f=l["default"].startNewRound(f),g=s["default"].getLottery(),f=l["default"].calculateOddsBlock(g.combosRemaining,f),m["default"].reset(!0),m["default"].setupOddsChart(f,h)}),document.getElementById("reset-btn").addEventListener("click",function(){b=s["default"].getDefaults(),g=b.lottery,f=b.teams,h=0,p=1,f=l["default"].calculateOddsBlock(g.combosRemaining,f),document.getElementById("start-btn").classList.add("hidden"),document.getElementById("draw-btn").classList.remove("hidden"),m["default"].reset(),m["default"].setupOddsChart(f,h)})},function(n,e){},,,,,,function(n,e){"use strict";n.exports=e={},e.getDefaults=function(){return JSON.parse(JSON.stringify(t))},e.setLottery=function(n){return t.lottery=JSON.parse(JSON.stringify(n)),!0},e.getLottery=function(){return JSON.parse(JSON.stringify(t.lottery))},e.setCombos=function(n){return t.teams=JSON.parse(JSON.stringify(n)),!0},e.getCombos=function(){return JSON.parse(JSON.stringify(t.teams))};var t={title:"WCFHL Draft Lottery",description:"Lottery Description",lottery:{rounds:3,ballsDrawnPerRound:4,ballMin:1,ballMax:14,ballsDrawn:[]},teams:[{name:"San Jose Sharks",combos:200,originalStats:{pick:1,combos:200,pct:20}},{name:"Carolina Hurricanes",combos:135,originalStats:{pick:2,combos:135,pct:13.5}},{name:"Florida Panthers",combos:115,originalStats:{pick:3,combos:115,pct:11.5}},{name:"Montreal Canadiens",combos:95,originalStats:{pick:4,combos:95,pct:9.5}},{name:"Nashville Predators",combos:85,originalStats:{pick:5,combos:85,pct:8.5}},{name:"New York Rangers",combos:75,originalStats:{pick:6,combos:75,pct:7.5}},{name:"Pittsburgh Penguins",combos:65,originalStats:{pick:7,combos:65,pct:6.5}},{name:"New Jersey Devils",combos:60,originalStats:{pick:8,combos:60,pct:6}},{name:"Detroit Red Wings",combos:50,originalStats:{pick:9,combos:50,pct:5}},{name:"Minnesota Wild",combos:35,originalStats:{pick:10,combos:35,pct:3.5}},{name:"Toronto Maple Leafs",combos:30,originalStats:{pick:11,combos:30,pct:3}},{name:"Chicago Blackhawks",combos:25,originalStats:{pick:12,combos:25,pct:2.5}},{name:"Winnipeg Jets",combos:20,originalStats:{pick:13,combos:20,pct:2}},{name:"Vancouver Canucks",combos:10,originalStats:{pick:14,combos:10,pct:1}}]}},function(n,e){"use strict";function t(n){var t=n.lottery,s=n.teams,c=[];t.ballRange=o(t.ballMin,t.ballMax),c=a(t.ballRange,t.ballsDrawnPerRound),t.combosRemaining=c.length;var l=r(c,s,t.combosRemaining);return l&&c.splice(c.length-l.combos,l.combos),c=f(c),s=i(c,s),l&&s.push(l),s=e.calculateOddsBlock(t.combosRemaining,s),s=s.sort(h),n}function o(n,e){for(var t=[],o=n;e>=o;o++)t.push(o);return t}function a(n,e){var t=function r(n,e,t,o){if(0==n)return void(t.length>0&&(o[o.length]=t));for(var a=0;a<e.length;a++)r(n-1,e.slice(a+1),t.concat([e[a]]),o)},o=[],a=[];return t(e,n,a,o),o}function r(n,e,t){var o=0,a=[];e.forEach(function(n){o+=n.combos});for(var r=o,i=n.length;i>r;r++)a.push(n[r]);if(a.length>0){var s=b(a.length,t);return{name:"Redraw",combos:a.length,originalStats:{pick:e.length+1,combos:a.length,pct:s},winningCombos:a,losingCombos:[]}}return!1}function i(n,e){return e.forEach(function(e){e.winningCombos=[],e.losingCombos=[];for(var t=0;t<e.combos;t++)e.winningCombos.push(n[t]);n.splice(0,e.combos)}),e}function s(n){var e=Math.floor(Math.random()*n.length),t=n[e];return t}function c(n,e){return n.originalStats.pick-e}function l(n,e){for(var t=[],o=0,a=n.winningCombos.length;a>o;o++)-1===n.winningCombos[o].indexOf(e)?n.losingCombos.push(n.winningCombos[o]):t.push(n.winningCombos[o]);return n.winningCombos=t,n.combos=n.winningCombos.length,n}function d(n,e){if(n.combos>0){for(var t=[],o=0,a=n.winningCombos.length;a>o;o++){var r=n.winningCombos[o].filter(function(n){return e.indexOf(n)<0});t.push(r.join())}return t.toString()}return null}function m(n){var e=0;return n.forEach(function(n){e+=n.combos}),e}function u(n,e,t){var o=b(n,e),a=g(o,t);return{percent:o,combos:n,change:a}}function b(n,e){return(n/e*100).toFixed(1)}function g(n,e){return(n-e).toFixed(1)}function f(n){for(var e=n.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),o=n[e];n[e]=n[t],n[t]=o}return n}function h(n,e){return n.combos>e.combos?-1:n.combos<e.combos?1:"Redraw"===n.name?1:"Redraw"===e.name?-1:n.originalStats.combos>e.originalStats.combos?-1:n.originalStats.combos<e.originalStats.combos?1:0}n.exports=e={},e.initCombos=function(n){t(n)},e.calculateOddsBlock=function(n,e){return e.forEach(function(e){e.odds=u(e.combos,n,e.originalStats.pct)}),e},e.drawBall=function(n){var e=s(n.ballRange),t=n.ballRange.indexOf(e);return n.mostRecentBallDrawn=e,n.ballRange.splice(t,1),n.ballsDrawn.push(e),n},e.updateOdds=function(n,e,t){var o=e.mostRecentBallDrawn,a=e.ballsDrawn;n.forEach(function(n){n=l(n,o),t&&(n.winsWith=d(n,a))});var r=m(n);return n.forEach(function(n){n.odds=u(n.combos,r,n.originalStats.pct)}),n=n.sort(h)},e.startNewRound=function(n){return n.forEach(function(n){n.winningCombos=n.winningCombos.concat(n.losingCombos),n.losingCombos=[],n.winsWith=null,n.odds=null,n.combos=n.winningCombos.length}),n},e.removeWinner=function(n,e){var t=n[0].winningCombos,o=n.length-1,a=n[o].winningCombos;return n[o].winningCombos=a.concat(t),n[o].originalStats.combos=n[o].winningCombos.length,n[o].originalStats.pct=b(n[o].winningCombos.length,e.combosRemaining),n.shift(),n},e.endLottery=function(n,e){return n.pop(),n.shift(),n.forEach(function(n,t){n.placeChange=c(n,t+e.rounds+1)}),n}},function(n,e){"use strict";function t(n,e,t,o){var a=document.createElement("tr"),r="",i="";if(0===n.combos&&(a.className="no-chance"),e){var s=n.odds.change>0?"up":"down";r='<td class="change-'+s+'">\n			<i class="ion-arrow-'+s+'-a" aria-hidden="true"></i> \n			'+Math.abs(n.odds.change)+"%\n		</td>"}n.winsWith&&3===t&&(i="<p> Wins with: "+n.winsWith+" </p>");var c='\n			<th scope="row">'+(o+1)+"</th>\n			<td>"+n.name+"</td>\n			<td>"+n.combos+" ("+n.odds.percent+"% chance) "+i+"</td>\n			"+r+" \n		";return a.innerHTML=c,a}function o(n){var e=document.createElement("span"),t=document.createElement("div"),o=document.createElement("div");return e.textContent=n,t.className="ball",o.className="col-xs-12 col-md-6 col-lg-3",t.appendChild(e),o.appendChild(t),o}function a(){var n=document.getElementsByTagName("table")[0];n&&n.parentElement.removeChild(n)}n.exports=e={},e.setupOddsChart=function(n,e){var o=e>0;a();var r=document.createElement("table"),i=document.createElement("thead"),s=document.createElement("tbody"),c=document.createElement("tr");return r.className="table table-striped table-hover",c.innerHTML="<th>#</th><th>Team</th><th>Combos Remaining</th>",c.innerHTML+=o?"<th>Change from Original</th>":"",i.appendChild(c),r.appendChild(i),n.forEach(function(n,a){s.appendChild(t(n,o,e,a))}),r.appendChild(s),document.getElementById("odds").appendChild(r),!0},e.createLotteryBall=function(n,e){var t=o(n);document.getElementById("lottery-balls").appendChild(t)},e.showWinner=function(n,e,t){var a=document.createElement("div"),r=document.getElementById("winner-list"),i="";a.className="winning-team",t.forEach(function(n){var n=o(n);i+=n.outerHTML});var s=e.originalStats.pick-n,c=0===s?"none":s>0?"up":"down",l="";return"none"!==c&&(l='\n			<span class="change-'+c+'">\n				(<i class="ion-arrow-'+c+'-a" aria-hidden="true"></i> \n				'+Math.abs(s)+")\n			</span>\n		"),a.innerHTML="\n		<h2>Pick #"+n+"</h2>\n		<p>"+e.name+" "+l+"</p>\n		"+i+"\n	",r.appendChild(a),!0},e.createAlert=function(n){var e=document.getElementsByClassName("container")[0],t=document.createElement("div");return t.id="alert-box",t.className="alert alert-danger",t.setAttribute("role","alert"),t.innerHTML=n,e.insertBefore(t,e.firstChild),!0},e.showFinalOrder=function(n,e){document.getElementById("odds").innerHTML="";var t=document.createElement("table"),o=document.createElement("thead"),a=document.createElement("tbody");t.className="table table-striped table-hover";var r="<th>Pick #</th>\n			   <th>Team</th>\n			   <th>Change</th>";return o.innerHTML="<tr>"+r+"</tr>",t.appendChild(o),n.forEach(function(n,o){var r=n.placeChange>0?"up":"down";r=0===n.placeChange?"none":r;var i="";"none"!==r&&(i='<i class="ion-arrow-'+r+'-a" aria-hidden="true"></i>');var s='\n				<th scope="row">'+(o+e)+"</th>\n				<td>"+n.name+'</td>\n				<td class="change-'+r+'">'+i+" "+Math.abs(n.placeChange)+"</td>";a.innerHTML+=document.createElement("tr").innerHTML=s,t.appendChild(a)}),document.getElementById("odds").appendChild(t),!0},e.reset=function(n){return document.getElementById("lottery-balls").innerHTML="",document.getElementById("alert-box")&&document.getElementById("alert-box").parentElement.removeChild(document.getElementById("alert-box")),document.getElementById("winner-list")&&n!==!0&&(document.getElementById("winner-list").innerHTML=""),!0}},function(n,e,t){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}var a=t(9),r=o(a);n.exports=e={};var i=document.getElementsByClassName("modal")[0],s=i.children[0];e.create=function(n){var e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("ul"),a=document.createElement("ul");e.className="modal-team-overview row",t.className="modal-team-lists row",e.innerHTML='\n					<div class="col-xs-12 col-md-6 col-md-offset-3 text-xs-center">\n						<span class="modal-team-name">'+n.name+'</span>\n						<span class="modal-team-combos">Original Combos: '+n.originalStats.combos+" ("+n.originalStats.pct+"%)</span>\n					</div>\n	",n.winningCombos.forEach(function(n){var e="";n.forEach(function(n){e+=r["default"].createLotteryBall(n,!0)});var t="<li>"+e+"</li>";o.innerHTML+=t}),n.losingCombos.forEach(function(n){var e="";n.forEach(function(n){e+=r["default"].createLotteryBall(n,!0)});var t="<li>"+e+"</li>";a.innerHTML+=t}),t.innerHTML='\n			<div class="col-xs-12 col-md-6">'+o.outerHTML+'</div>\n			<div class="col-xs-12 col-md-6 losing-list">'+o.outerHTML+"</div>	\n	",s.appendChild(e),s.appendChild(t),i.style.display="block"},document.getElementsByClassName("modal")[0].addEventListener("click",function(){s.removeChild(s.childNodes[1]),s.removeChild(s.childNodes[1]),i.style.display="none"})}]);